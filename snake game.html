<!DOCTYPE html>
<html>
  <head>
    <style>
    .thegame {
    border: 1px solid black;
    width: 400px;
    height: 400px;
    }
    </style>
  </head>
<body>

<canvas id="snakegame" class="thegame" >
Your browser does not support the HTML canvas tag.</canvas>
<p id="test">debug stuff</p>
<p id="test2">text</p>
<button id="thingbutton">text</button>
<script>
document.getElementById("thingbutton").addEventListener("click", everything);
function everything () {
const game = {canvas: document.getElementById("snakegame"), x: document.getElementById("snakegame").width, y: document.getElementById("snakegame").height};
document.getElementById("test2").innerHTML= `<p> ${game.x} </p>`;
let snake = game.canvas.getContext('2d');
snake.x = 0;
snake.y = 0;
snake.width = game.x / 20;
snake.height =  game.y / 20;
let direction = "right";

window.addEventListener('keydown', function(event) {
  if (event.key == 'ArrowDown') {
    direction = "down";
  }
  if (event.key === 'ArrowRight') {
    direction = 'right'
  }
  if (event.key === 'ArrowLeft') {
    direction = 'left';
  }
  if (event.key=== 'ArrowUp') {
    direction = 'up';
  } 
});

function move() {
snake.clearRect(snake.x, snake.y, snake.width + 10, snake.height + 10);
snake.fillStyle = 'red';

if (direction === 'left') {
  snake.x = snake.x - snake.width;
} else if(direction === 'right') {
  snake.x = snake.x + snake.width;
} else if (direction === 'up') {
  snake.y = snake. y - snake.height;
} else if (direction==='down') {
  snake.y = snake.y + snake.height;
}
snake.fillRect(snake.x,snake.y,snake.width, snake.height);
document.getElementById("test").innerHTML = `<p> direction: ${direction} x: ${snake.x} y: ${snake.y}</p>`;
};

function death_message() {
  document.getElementById("test").innerHTML = `<p> you dead bruh </p>`;
}

function check_for_colisions () {
  if (snake.x ==game.x || snake.y == game.y || snake.x <0 || snake.y < 0) {
    death_message();
    clearInterval(x);
  }
}
const food = game.canvas.getContext('2d');
food.fillStyle = 'black';
food.x = 0;
food.y= 0;
food.width = game.x / 20;
food.height = game.y / 20;
function spawn_food(){
  food.x = Math.floor(Math.random()* 20) * food.width;
  food.y = Math.floor(Math.random()* 20) * food.height;
  food.fillRect(food.x, food.y, food.width, food.height);
}

spawn_food();
function start() {
  move();
  check_for_colisions();
}

let x = setInterval(start, 200);
document.getElementById("test").innerHTML = `<p> snake x: ${snake.x}  </p>`;
}
</script>

</body>
</html>

